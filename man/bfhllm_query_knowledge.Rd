% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rag.R
\name{bfhllm_query_knowledge}
\alias{bfhllm_query_knowledge}
\title{Query Knowledge Store}
\usage{
bfhllm_query_knowledge(query, store = NULL, top_k = 5, method = "hybrid")
}
\arguments{
\item{query}{Character string, the query to search for}

\item{store}{ragnar_store object (optional). If NULL, loads from cache/default.}

\item{top_k}{Integer, number of top results to return (default: 5)}

\item{method}{Character string, search method: "hybrid" (default), "semantic", or "bm25"}
}
\value{
Data frame with columns: chunk_id, text, score, metadata, or NULL on error
}
\description{
Queries the Ragnar knowledge store for relevant information. Supports both
semantic search (embeddings) and keyword search (BM25), or hybrid mode
combining both.
}
\details{
\strong{Search Methods:}
\itemize{
\item "hybrid": Combines semantic + BM25 (best for most queries)
\item "semantic": Vector similarity search via embeddings
\item "bm25": Keyword-based search (fast, good for exact terms)
}

\strong{Store Loading:}
If store is NULL, automatically loads via \code{bfhllm_load_knowledge_store()}.
Store is cached after first load for performance.

\strong{Error Handling:}
Returns NULL if store unavailable or query fails. Check return value before
using results.
}
\examples{
\dontrun{
# Query with default hybrid search
results <- bfhllm_query_knowledge("run chart interpretation")

# Query with semantic search only
results <- bfhllm_query_knowledge(
  "special cause variation",
  method = "semantic",
  top_k = 3
)

# Use existing store
store <- bfhllm_load_knowledge_store()
results <- bfhllm_query_knowledge("control limits", store = store)
}

}
