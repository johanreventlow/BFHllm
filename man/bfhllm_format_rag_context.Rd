% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rag.R
\name{bfhllm_format_rag_context}
\alias{bfhllm_format_rag_context}
\title{Format RAG Context for Prompt}
\usage{
bfhllm_format_rag_context(results, max_chunks = 5, include_scores = FALSE)
}
\arguments{
\item{results}{Data frame from \code{bfhllm_query_knowledge()}, or NULL}

\item{max_chunks}{Integer, maximum chunks to include (default: 5)}

\item{include_scores}{Logical, include similarity scores in output (default: FALSE)}
}
\value{
Character string with formatted context, or NULL if no results
}
\description{
Formats RAG search results into a structured context string suitable for
inclusion in LLM prompts. Combines retrieved chunks with metadata.
}
\details{
\strong{Output Format:}

\if{html}{\out{<div class="sourceCode">}}\preformatted{Context from knowledge base:

[1] <chunk text>
[2] <chunk text>
...
}\if{html}{\out{</div>}}

\strong{NULL Handling:}
Returns NULL if results is NULL or empty. Calling code should handle this
gracefully (e.g., proceed without RAG context).
}
\examples{
\dontrun{
# Query and format
results <- bfhllm_query_knowledge("run chart")
context <- bfhllm_format_rag_context(results)

# Include scores for debugging
context <- bfhllm_format_rag_context(results, include_scores = TRUE)

# Limit chunks
context <- bfhllm_format_rag_context(results, max_chunks = 3)
}

}
